<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editar Usuario</title>
    <link rel="stylesheet" href="stylesxx.css">
</head>
<header>
    <nav>
        <ul>
            <li><a href="Menu1.html" class="active">Promociones</a></li>
            <li>
                <a href="Productos.html">Productos</a>
                <ul>
                    <li><a href="ConsultaProd.html">Consultar Productos</a></li>
                </ul>
            </li>
            <li>
                <a href="altaProveedores.html">Proveedores</a>
                <ul>
                    <li><a href="ConsultaProveedores.html">Consultar Proveedores</a></li>
                </ul>
            </li>
            <li>
                <a href="Usuarios.html">Adm</a>
                <ul>
                    <li><a href="Usuarios.html">Consultar Adm</a></li>
                </ul>
            </li>
            <li>
                <a href="Productos.html">Clientes</a>
                <ul>
                    <li><a href="ConsultaProd.html">Consultar Clientes</a></li>
                </ul>
            </li>
            <li><a href="#">Cierre de sesión</a></li>
        </ul>
    </nav>
</header>

<body>

<main>
    <h1>Editar Usuario</h1>
    <form id="editForm" method="POST" action="updateUsuario.php" class="form-container">
        <div>
            <label for="Usu">Usuario:</label>
            <input type="text" id="Usu" name="Usu" required>
        </div>
        
        <div>
            <label for="Nombre">Nombre:</label>
            <input type="text" id="Nombre" name="Nombre" required>
        </div>
        <div>
            <label for="App">Apellido Paterno:</label>
            <input type="text" id="App" name="App" required>
        </div>
        <div>
            <label for="Apm">Apellido Materno:</label>
            <input type="text" id="Apm" name="Apm" required>
        </div>
        <div>
            <label for="Correo">Correo:</label>
            <input type="email" id="Correo" name="Correo" required>
        </div>
        <div>
            <label for="FecNam">Fecha de Nacimiento:</label>
            <input type="date" id="FecNam" name="FecNam" required>
        </div>
        <div>
            <label for="Activo">Activo:</label>
            <select id="Activo" name="Activo" required>
                <option value="3">Sí</option>
                <option value="0">No</option>
            </select>
        </div>
        <input type="hidden" id="IdUsu" name="IdUsu">
        <button type="submit">Guardar Cambios</button>
    </form>
</main>
<footer>
    <p>&copy;2024 Last Bite. Todos los derechos reservados.</p>
</footer>
<script>
document.addEventListener("DOMContentLoaded", function() {
    const params = new URLSearchParams(window.location.search);
    const userId = params.get('id');

    // Cargar los datos del usuario
    fetch('getUsuarioById.php?id=' + userId)
        .then(response => response.json())
        .then(data => {
            document.getElementById('IdUsu').value = data.IdUsu;
            document.getElementById('Usu').value = data.Usu;
            document.getElementById('Nombre').value = data.Nombre;
            document.getElementById('App').value = data.App;
            document.getElementById('Apm').value = data.Apm;
            document.getElementById('Correo').value = data.Correo;
            document.getElementById('FecNam').value = data.FecNam;
            document.getElementById('Activo').value = data.Activo;
        });

    document.getElementById('editForm').addEventListener('submit', function(event) {
        // Prevenir el envío del formulario para cualquier procesamiento adicional si es necesario
        event.preventDefault();

        // Ahora enviar el formulario
        this.submit();
    });
});

</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
</body>
</html>
